<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<title>Te amo Hacker Style legible</title>
<style>
  html, body {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    background: #0a0a0a;
    font-family: 'Courier New', Courier, monospace;
  }
  canvas {
    display: block;
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background: #0a0a0a;
  }
</style>
</head>
<body>
<canvas id="canvas"></canvas>

<script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');

  let w, h;
  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  const texto = 'Te amo ðŸ’–';
  const letras = texto.split('');
  const fontSize = 28;
  const columns = Math.floor(w / fontSize);

  // Para cada columna, guardamos la posiciÃ³n actual (en "lÃ­neas" de texto) de la letra que cae
  const drops = [];

  for (let i = 0; i < columns; i++) {
    drops[i] = Math.floor(Math.random() * letras.length); // posiciÃ³n inicial dentro del texto
  }

  function draw() {
    // Fondo semitransparente para estelas
    ctx.fillStyle = 'rgba(10, 10, 10, 0.15)';
    ctx.fillRect(0, 0, w, h);

    ctx.font = `${fontSize}px 'Courier New', monospace`;
    ctx.textBaseline = 'top';

    for (let i = 0; i < columns; i++) {
      const x = i * fontSize;
      let yPos = drops[i] * fontSize;

      // Dibujamos las letras anteriores como estelas con opacidad decreciente
      for (let j = 0; j < letras.length; j++) {
        let index = (drops[i] - j + letras.length) % letras.length;
        let y = yPos - j * fontSize;

        if (y < 0 || y > h) continue;

        const alpha = Math.max(0, 1 - j * 0.25); // desvanecimiento de estelas
        const isHead = (j === 0);

        ctx.fillStyle = isHead ? `rgba(255, 110, 220, 1)` : `rgba(255, 110, 220, ${alpha})`;
        ctx.shadowColor = isHead ? '#ff79d9' : 'transparent';
        ctx.shadowBlur = isHead ? 12 : 0;

        ctx.fillText(letras[index], x, y);
      }

      // Avanzamos la posiciÃ³n, si pasa la pantalla se reinicia para loop continuo
      drops[i]++;
      if (drops[i] > letras.length + h / fontSize) {
        drops[i] = 0;
      }
    }

    requestAnimationFrame(draw);
  }

  draw();
</script>
</body>
</html>
